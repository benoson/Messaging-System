(this["webpackJsonpmessaging-system"]=this["webpackJsonpmessaging-system"]||[]).push([[0],{111:function(e,t,a){},132:function(e,t,a){},133:function(e,t,a){},134:function(e,t,a){},164:function(e,t,a){},166:function(e,t,a){},167:function(e,t,a){},168:function(e,t,a){},169:function(e,t,a){},170:function(e,t,a){},171:function(e,t,a){},172:function(e,t,a){},173:function(e,t,a){},174:function(e,t,a){"use strict";a.r(t);var s=a(2),n=a(0),r=a.n(n),c=a(10),o=a.n(c),i=a(20),l=a(14),u=a(207),g=a(7);function d(e){var t=e.buttonText,a=e.backgroundColor,n=e.textColor,r=e.borderColor,c=e.hoverBgColor,o=e.hoverTextColor,i=e.toggleFunction,l=Object(g.a)({root:{background:a,"&:hover":{background:c,color:o},borderRadius:3,border:"1px solid ".concat(r),color:n,height:48,padding:"0 30px",marginBottom:"1rem",width:"100%",transition:"0.6s ease"},label:{textTransform:"capitalize"}})(u.a);return Object(s.jsx)("div",{children:Object(s.jsx)(l,{onClick:i,variant:"outlined",className:"sidebarButon",children:t})})}a(111);function j(){return Object(s.jsxs)("div",{className:"leftSidebar",children:[Object(s.jsx)(i.b,{to:"/compose",className:"navLinkItem",children:Object(s.jsx)(d,{buttonText:"Compose Email",backgroundColor:"transparent",textColor:"lightseagreen",borderColor:"lightseagreen",hoverBgColor:"lightseagreen",hoverTextColor:"white"})}),Object(s.jsx)(i.b,{to:"/myEmails",className:"navLinkItem",children:Object(s.jsx)(d,{buttonText:"My Emails",backgroundColor:"transparent",textColor:"lightseagreen",borderColor:"lightseagreen",hoverBgColor:"lightseagreen",hoverTextColor:"white"})}),Object(s.jsx)(i.b,{to:"/sentEmails",className:"navLinkItem",children:Object(s.jsx)(d,{buttonText:"Sent",backgroundColor:"transparent",textColor:"lightseagreen",borderColor:"lightseagreen",hoverBgColor:"lightseagreen",hoverTextColor:"white"})})]})}var h,p=a(17),m=a(53),b=a(12),f=a(18),v=function e(t,a,s,n,r){Object(f.a)(this,e),this.ID=t,this.subject=a,this.content=s,this.receiverUsername=n,this.receiverID=r};!function(e){e[e.UpdateAllUsers=0]="UpdateAllUsers",e[e.UpdateMessageSubject=1]="UpdateMessageSubject",e[e.UpdateMessageContent=2]="UpdateMessageContent",e[e.UpdateMessageReceiver=3]="UpdateMessageReceiver",e[e.UpdateAllUserMessages=4]="UpdateAllUserMessages",e[e.UpdateSingleMessage=5]="UpdateSingleMessage",e[e.UpdateSingleSentMessage=6]="UpdateSingleSentMessage",e[e.UpdateAllSentMessages=7]="UpdateAllSentMessages",e[e.DeleteReceivedMessage=8]="DeleteReceivedMessage",e[e.DeleteSentMessage=9]="DeleteSentMessage",e[e.ChangeLoggedStatus=10]="ChangeLoggedStatus",e[e.ClearMessage=11]="ClearMessage",e[e.ClearStore=12]="ClearStore"}(h||(h={}));var O=function e(t,a,s,n,r){Object(f.a)(this,e),this.allUsers=t,this.allUserMessages=a,this.allMessagesSent=s,this.composedMessage=n,this.isLogged=r},x=new O(new Array,new Array,new Array,new v(0,"","","",0),!1);var S=Object(m.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0,a=e.composedMessage;switch(t.type){case h.UpdateAllUsers:return new O(Object(b.a)(t.payload),Object(b.a)(e.allUserMessages),e.allMessagesSent,a,e.isLogged);case h.UpdateMessageReceiver:return a.receiverID=t.payload.ID,a.receiverUsername=t.payload.username,new O(Object(b.a)(e.allUsers),Object(b.a)(e.allUserMessages),e.allMessagesSent,a,e.isLogged);case h.UpdateMessageSubject:return a.subject=t.payload,new O(Object(b.a)(e.allUsers),Object(b.a)(e.allUserMessages),e.allMessagesSent,a,e.isLogged);case h.UpdateMessageContent:return a.content=t.payload,new O(Object(b.a)(e.allUsers),Object(b.a)(e.allUserMessages),e.allMessagesSent,a,e.isLogged);case h.UpdateAllUserMessages:return new O(Object(b.a)(e.allUsers),Object(b.a)(t.payload),e.allMessagesSent,a,e.isLogged);case h.UpdateAllSentMessages:return new O(Object(b.a)(e.allUsers),e.allUserMessages,Object(b.a)(t.payload),a,e.isLogged);case h.DeleteReceivedMessage:var s=e.allUserMessages;return s.splice(t.payload,1),new O(Object(b.a)(e.allUsers),Object(b.a)(s),e.allMessagesSent,a,e.isLogged);case h.UpdateSingleMessage:var n=e.allUserMessages;return n.push(t.payload),new O(Object(b.a)(e.allUsers),Object(b.a)(n),e.allMessagesSent,a,e.isLogged);case h.UpdateSingleSentMessage:var r=e.allMessagesSent;return r.push(t.payload),new O(Object(b.a)(e.allUsers),e.allUserMessages,Object(b.a)(r),a,e.isLogged);case h.ChangeLoggedStatus:return new O(Object(b.a)(e.allUsers),Object(b.a)(e.allUserMessages),e.allMessagesSent,a,t.payload);case h.ClearMessage:return new O(Object(b.a)(e.allUsers),Object(b.a)(e.allUserMessages),e.allMessagesSent,new v(0,"","","",0),e.isLogged);case h.ClearStore:return new O(new Array,new Array,new Array,new v(0,"","","",0),!1);default:return e}})),M=a(5),y=a.n(M),U=a(9),w=a(24),N=a.n(w),C=function e(){Object(f.a)(this,e)};C.interceptRequest=function(){var e=localStorage.getItem("userInfo");if(null!==e&&void 0!==JSON.parse(e).token){var t="Bearer "+JSON.parse(e).token;N.a.defaults.headers.common.Authorization=t}};var E=function e(){Object(f.a)(this,e)};E.validateCredentials=function(e){try{return E.validateUsername(e.username),E.validatePassword(e.password),!0}catch(t){return alert(t),!1}},E.validateUsername=function(e){if(e.trim().length>2&&e.trim().length<11)return!0;throw new Error("Please Enter a Username between 3 - 10 characters")},E.validatePassword=function(e){if(e.trim().length>3&&e.trim().length<11)return!0;throw new Error("Please Enter a Password between 4 - 10 characters")},E.getAllUsersFromServer=Object(U.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.a.get("http://localhost:3001/users/");case 3:t=e.sent,S.dispatch({type:h.UpdateAllUsers,payload:t.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),alert(e.t0.response.data.errorMessage);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),E.login=function(){var e=Object(U.a)(y.a.mark((function e(t){var a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.a.post("http://localhost:3001/users/login",t);case 3:a=e.sent,E.saveLoginDetailsToLocalStorage(a.data),E.changeUserLoggedStatus(!0),e.next=11;break;case 8:throw e.prev=8,e.t0=e.catch(0),new Error(e.t0.response.data.errorMessage);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),E.register=function(){var e=Object(U.a)(y.a.mark((function e(t){var a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.a.post("http://localhost:3001/users/",t);case 3:a=e.sent,E.saveLoginDetailsToLocalStorage(a.data),E.changeUserLoggedStatus(!0),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),alert(e.t0.response.data.errorMessage);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),E.filterUsersBasedOnSearchInput=function(e,t){return e.filter((function(e){return e.username.includes(t.trim())&&""!==t.trim()}))},E.saveLoginDetailsToLocalStorage=function(e){localStorage.setItem("userInfo",JSON.stringify(e))},E.handleUserLoggedStatus=function(){E.isUserLogged()&&E.changeUserLoggedStatus(!0)},E.changeUserLoggedStatus=function(e){S.dispatch({type:h.ChangeLoggedStatus,payload:e})},E.isUserLogged=function(){if(!S.getState().isLogged){var e=localStorage.getItem("userInfo");if(null!==e&&void 0!==JSON.parse(e).token)return!0}return!1},E.logout=function(){C.interceptRequest(),localStorage.removeItem("userInfo"),S.dispatch({type:h.ClearStore})};a(132);function z(){var e=Object(n.useState)(!1),t=Object(p.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(""),o=Object(p.a)(c,2),u=o[0],g=o[1],j=Object(l.g)();Object(n.useEffect)((function(){E.handleUserLoggedStatus();var e=S.subscribe((function(){var e=S.getState().isLogged;r(e),h()}));return function(){e()}}),[]);var h=function(){var e=localStorage.getItem("userInfo");if(null!==e){var t=JSON.parse(e).username;g(t)}};return Object(s.jsxs)("div",{className:"navbar",children:[Object(s.jsx)("div",{className:"navbarLogoSection",children:Object(s.jsx)(i.b,{to:"/welcome",className:"navLinkItem",children:Object(s.jsx)("img",{src:"data:image/png;base64,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",className:"msLogoImage",alt:"MS logo"})})}),a&&Object(s.jsxs)("div",{className:"usernameTextSection",children:[Object(s.jsx)("p",{className:"usernameText",children:u}),Object(s.jsx)(d,{buttonText:"Logout",backgroundColor:"red",textColor:"white",borderColor:"none",hoverBgColor:"white",hoverTextColor:"red",toggleFunction:function(){E.logout(),j.push("/welcome")}})]})]})}var L=a(206),q=function e(t,a,s,n,r){Object(f.a)(this,e),this.ID=t,this.senderUsername=a,this.subject=s,this.content=n,this.creationDate=r},k=function e(){Object(f.a)(this,e)};k.validateMessage=function(){try{return k.validateMessageReceiver(),k.validateMessageSubject(),k.validateMessageContent(),!0}catch(e){return alert(e),!1}},k.validateMessageReceiver=function(){if(0!==S.getState().composedMessage.receiverID)return!0;throw new Error("Invalid Message Receiver")},k.validateMessageSubject=function(){if(S.getState().composedMessage.subject.trim().length>0&&S.getState().composedMessage.subject.trim().length<46)return!0;throw new Error("Subject Should 1 - 45 Characters Long")},k.validateMessageContent=function(){if(S.getState().composedMessage.content.trim().length>0&&S.getState().composedMessage.content.trim().length<1e3)return!0;throw new Error("Content Should 1 - 999 Characters Long")},k.sendMessageToSelectedUser=function(){var e=Object(U.a)(y.a.mark((function e(t){var a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C.interceptRequest(),e.next=3,N.a.post("http://localhost:3001/messages/",t);case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k.updateSentMessageInDisplay=function(){var e=Object(U.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:S.dispatch({type:h.UpdateSingleSentMessage,payload:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k.getAllUserMessagesFromServer=Object(U.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C.interceptRequest(),e.next=3,N.a.get("http://localhost:3001/messages/");case 3:t=e.sent,S.dispatch({type:h.UpdateAllUserMessages,payload:t.data});case 5:case"end":return e.stop()}}),e)}))),k.getAllSentMessagesFromServer=Object(U.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C.interceptRequest(),e.next=3,N.a.get("http://localhost:3001/messages/sent");case 3:t=e.sent,S.dispatch({type:h.UpdateAllSentMessages,payload:t.data});case 5:case"end":return e.stop()}}),e)}))),k.convertMessageForDisplay=function(e,t){var a=JSON.parse(localStorage.getItem("userInfo")).username,s=k.convertMessageDateForDisplay();return new q(e,a,t.subject,t.content,s)},k.convertMessageDateForDisplay=function(){var e=new Date,t=""+(e.getMonth()+1);return[""+e.getDate(),t,e.getFullYear()].join("/")},k.deleteMessage=function(){var e=Object(U.a)(y.a.mark((function e(t){var a,s;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.delete("http://localhost:3001/messages/".concat(t));case 2:a=S.getState().allUserMessages.filter((function(e){return e.ID===t})),s=S.getState().allUserMessages.indexOf(a[0]),S.dispatch({type:h.DeleteReceivedMessage,payload:s});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();a(133);function I(e){var t=e.user,a=e.clearSearchList;return Object(s.jsx)("div",{className:"userItem",onClick:function(){S.dispatch({type:h.UpdateMessageReceiver,payload:{ID:t.ID,username:t.username}}),a()},children:Object(s.jsx)("p",{children:t.username})})}a(134);function A(){var e=Object(n.useState)(""),t=Object(p.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(new Array),o=Object(p.a)(c,2),i=o[0],l=o[1],u=Object(n.useState)(new Array),g=Object(p.a)(u,2),d=g[0],j=g[1];Object(n.useEffect)((function(){h();var e=S.subscribe((function(){var e=S.getState().allUsers;l(e)}));return function(){e()}}),[]);var h=function(){var e=Object(U.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==(t=S.getState().allUsers).length){e.next=6;break}return e.next=4,E.getAllUsersFromServer();case 4:e.next=7;break;case 6:l(t);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(){r(""),j(new Array)};return Object(s.jsxs)("div",{className:"composeEmailSectionRight",children:[Object(s.jsx)(L.a,{onChange:function(e){var t=e.target.value,a=E.filterUsersBasedOnSearchInput(i,t);j(a),r(t)},value:a,required:!0,label:"Search For a User"}),Object(s.jsx)("div",{className:"allUsersItemsSection",children:d.map((function(e,t){return Object(s.jsx)(I,{user:e,clearSearchList:m},t)}))})]})}var D=a(94),V=a(95),X=a.n(V),F=function(){function e(){var t=this;Object(f.a)(this,e),this.socketConnection=void 0,this.isConnectedToSocket=void 0,this.initiateSocket=function(){var e=localStorage.getItem("userInfo"),a=JSON.parse(e).token;t.socketConnection=X()("http://localhost:3002",{query:"userToken="+a}),t.registerSocketListeners(),t.isConnectedToSocket=!0},this.registerSocketListeners=function(){t.socketConnection.on("receive-message",(function(e){S.dispatch({type:h.UpdateSingleMessage,payload:e})}))},this.emitMessage=function(e,a){t.socketConnection.emit("send-message",e,a)},this.deleteMessage=function(e,a){t.socketConnection.emit("delete-message",e,a)},this.isConnectedToSocket=!1}return Object(D.a)(e,null,[{key:"Instance",get:function(){return this._instance||(this._instance=new this)}}]),e}();F._instance=void 0;a(164);function T(){var e=Object(n.useState)(""),t=Object(p.a)(e,2),a=t[0],r=t[1],c=Object(n.useRef)(null),o=F.Instance;Object(n.useEffect)((function(){if(E.handleUserLoggedStatus(),S.getState().isLogged){o.isConnectedToSocket||o.initiateSocket();var e=S.subscribe((function(){var e=S.getState().composedMessage.receiverUsername;r(e)}));return function(){e()}}}),[]);var i=function(){var e=Object(U.a)(y.a.mark((function e(){var t,a,s;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!k.validateMessage()){e.next=10;break}return t=S.getState().composedMessage,e.next=4,k.sendMessageToSelectedUser(t);case 4:a=e.sent,s=k.convertMessageForDisplay(a,t),k.updateSentMessageInDisplay(s),o.emitMessage(s,t.receiverID),S.dispatch({type:h.ClearMessage}),c.current.reset();case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return S.getState().isLogged?Object(s.jsxs)("div",{className:"composeEmailPage",children:[Object(s.jsx)("h1",{className:"composeEmailHeader",children:"Compose An Email"}),Object(s.jsxs)("form",{className:"composeEmailForm",ref:c,children:[Object(s.jsxs)("div",{className:"composeEmailSectionLeft",children:[Object(s.jsx)(L.a,{required:!0,className:"inputField",label:"Subject",onChange:function(e){var t=e.target.value.trim();S.dispatch({type:h.UpdateMessageSubject,payload:t})}}),Object(s.jsx)(L.a,{required:!0,id:"messageInput",margin:"normal",className:"inputField",label:"Your message",multiline:!0,rows:12,variant:"outlined",onChange:function(e){var t=e.target.value.trim();S.dispatch({type:h.UpdateMessageContent,payload:t})}}),""!==a.trim()&&Object(s.jsxs)("h2",{className:"receiverText",children:["Sending To: ",Object(s.jsx)("span",{className:"receiverName",children:a})]}),Object(s.jsx)(d,{buttonText:"Send",backgroundColor:"transparent",textColor:"lightseagreen",borderColor:"lightseagreen",hoverBgColor:"lightseagreen",hoverTextColor:"white",toggleFunction:i})]}),Object(s.jsx)(A,{})]})]}):Object(s.jsx)(l.a,{to:"/welcome"})}var R=a.p+"static/media/Delete-Email.d9483b20.svg",Y=a(96),W=a.n(Y);a(166);function J(e){var t=e.email,a=e.isShowDeleteButton;return Object(s.jsxs)("div",{className:"email",children:[Object(s.jsxs)("div",{className:"emailBodySection",children:[Object(s.jsxs)("div",{className:"leftEmailSection",children:[Object(s.jsx)("h2",{className:"sharp subjectText",children:t.subject}),Object(s.jsx)("p",{className:"sharp contentText",children:t.content})]}),a&&Object(s.jsx)("div",{className:"rightEmailSection",children:Object(s.jsx)("img",{onClick:function(){W()("Are you sure you want to delete this message from ".concat(t.senderUsername," ?")).then(function(){var e=Object(U.a)(y.a.mark((function e(a){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=3;break}return e.next=3,k.deleteMessage(t.ID);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},className:"deleteEmailSVG",src:R,alt:"delete message"})})]}),Object(s.jsxs)("div",{className:"bottomEmailSection",children:[Object(s.jsx)("p",{className:"sharp senderText",children:t.senderUsername}),Object(s.jsx)("p",{className:"sharp creationDateText",children:t.creationDate})]})]})}var P=a.p+"static/media/No-Emails.7e30717a.svg";a(167);function H(){var e=Object(n.useState)(new Array),t=Object(p.a)(e,2),a=t[0],r=t[1],c=F.Instance;Object(n.useEffect)((function(){if(E.handleUserLoggedStatus(),S.getState().isLogged){c.isConnectedToSocket||c.initiateSocket(),o();var e=S.subscribe((function(){var e=S.getState().allUserMessages;r(e)}));return function(){e()}}}),[]);var o=function(){var e=Object(U.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==(t=S.getState().allUserMessages).length){e.next=6;break}return e.next=4,k.getAllUserMessagesFromServer();case 4:e.next=7;break;case 6:r(t);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return S.getState().isLogged?Object(s.jsx)("div",{className:"myEmailsContainer",children:a.length>0?Object(s.jsxs)("div",{children:[Object(s.jsx)("h1",{className:"myEmailsHeader",children:"My Emails"}),a.map((function(e,t){return Object(s.jsx)(J,{email:e,isShowDeleteButton:!0},t)}))]}):Object(s.jsxs)("div",{children:[Object(s.jsx)("h1",{children:"No Emails Yet"}),Object(s.jsx)("img",{className:"noEmailsSVG",src:P,alt:"no-emails"})]})}):Object(s.jsx)(l.a,{to:"/welcome"})}var B=function e(t,a){Object(f.a)(this,e),this.username=t,this.password=a};a(168);function G(){var e=Object(n.useState)(""),t=Object(p.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(""),o=Object(p.a)(c,2),i=o[0],g=o[1],d=Object(l.g)(),j=F.Instance,h=function(){var e=Object(U.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=new B(a,i),!E.validateCredentials(t)){e.next=12;break}return e.prev=2,e.next=5,E.login(t);case 5:j.initiateSocket(),d.push("/myEmails"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),alert(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}();return Object(s.jsxs)("div",{className:"loginSection",children:[Object(s.jsx)("h1",{className:"sectionHeader",children:"Have an account ?"}),Object(s.jsxs)("form",{className:"loginForm",children:[Object(s.jsx)(L.a,{margin:"normal",label:"Username",onChange:function(e){var t=e.target.value;r(t)}}),Object(s.jsx)(L.a,{type:"password",margin:"normal",label:"Password",color:"primary",onChange:function(e){var t=e.target.value;g(t)}}),Object(s.jsx)(u.a,{id:"loginButton",variant:"outlined",size:"medium",color:"primary",onClick:h,children:"Login"})]})]})}a(169);function K(){var e=Object(n.useState)(""),t=Object(p.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(""),o=Object(p.a)(c,2),i=o[0],g=o[1],d=Object(l.g)(),j=function(){var e=Object(U.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=new B(a,i),!E.validateCredentials(t)){e.next=5;break}return e.next=4,E.register(t);case 4:d.push("/myEmails");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(s.jsxs)("div",{className:"registerSection",children:[Object(s.jsx)("h1",{className:"sectionHeader",children:"New account ?"}),Object(s.jsxs)("form",{className:"registerForm",children:[Object(s.jsx)(L.a,{margin:"normal",label:"Username",onChange:function(e){var t=e.target.value;r(t)}}),Object(s.jsx)(L.a,{type:"password",margin:"normal",label:"Password",color:"primary",onChange:function(e){var t=e.target.value;g(t)}}),Object(s.jsx)(u.a,{id:"registerButton",variant:"outlined",size:"medium",color:"primary",onClick:j,children:"Register"})]})]})}a(170);function Z(){Object(n.useEffect)((function(){e()}),[]);var e=function(){var e=Object(U.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==S.getState().allUsers.length){e.next=4;break}return e.next=4,E.getAllUsersFromServer();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(s.jsxs)("div",{className:"welcomePageSection",children:[Object(s.jsx)(G,{}),Object(s.jsx)("div",{className:"divider"}),Object(s.jsx)(K,{})]})}a(171),a(172);function Q(){var e=Object(n.useState)(new Array),t=Object(p.a)(e,2),a=t[0],r=t[1];Object(n.useEffect)((function(){if(E.handleUserLoggedStatus(),S.getState().isLogged){c();var e=S.subscribe((function(){var e=S.getState().allMessagesSent;r(e)}));return function(){e()}}}),[]);var c=function(){var e=Object(U.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==(t=S.getState().allMessagesSent).length){e.next=6;break}return e.next=4,k.getAllSentMessagesFromServer();case 4:e.next=7;break;case 6:r(t);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return S.getState().isLogged?Object(s.jsx)("div",{className:"myEmailsContainer",children:a.length>0?Object(s.jsxs)("div",{children:[Object(s.jsx)("h1",{className:"myEmailsHeader",children:"Sent Emails"}),a.map((function(e,t){return Object(s.jsx)(J,{email:e,isShowDeleteButton:!1},t)}))]}):Object(s.jsxs)("div",{children:[Object(s.jsx)("h1",{children:"No Sent Emails Yet"}),Object(s.jsx)("img",{className:"noEmailsSVG",src:P,alt:"no-emails"})]})}):Object(s.jsx)(l.a,{to:"/welcome"})}var _=function(){return Object(s.jsx)("div",{className:"App",children:Object(s.jsxs)(i.a,{children:[Object(s.jsx)(z,{}),Object(s.jsxs)("div",{className:"dividedSections",children:[Object(s.jsx)(j,{}),Object(s.jsx)("div",{className:"mainContent",children:Object(s.jsxs)(l.d,{children:[Object(s.jsx)(l.b,{path:"/welcome",component:Z,exact:!0}),Object(s.jsx)(l.b,{path:"/myEmails",component:H,exact:!0}),Object(s.jsx)(l.b,{path:"/sentEmails",component:Q,exact:!0}),Object(s.jsx)(l.b,{path:"/compose",component:T,exact:!0}),Object(s.jsx)(l.a,{from:"/",to:"/welcome",exact:!0})]})})]})]})})},$=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,209)).then((function(t){var a=t.getCLS,s=t.getFID,n=t.getFCP,r=t.getLCP,c=t.getTTFB;a(e),s(e),n(e),r(e),c(e)}))},ee=a(97);a(173);o.a.render(Object(s.jsx)(r.a.StrictMode,{children:Object(s.jsx)(ee.a,{store:S,children:Object(s.jsx)(_,{})})}),document.getElementById("root")),$()}},[[174,1,2]]]);
//# sourceMappingURL=main.0f7048f7.chunk.js.map